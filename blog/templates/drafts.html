{% extends "base.html" %}

{% block content %}

<div class="container mt-4">

    <h3 class="mb-4">Drafts</h3>

    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover fixed-table">
            <thead class="thead-dark">
                <tr>
                    <th class="col-date">Date</th>
                    <th class="col-title">Title</th>
                    <th class="col-body">Contents</th>
                    <th class="col-actions">Actions</th>
                </tr>
            </thead>

            <tbody>
                {% for post in drafts %}
                <tr>
                    <td class="align-middle">{{ post.pub_date }}</td>
                    <td class="align-middle">{{ post.title }}</td>
                    <td class="align-middle">{{ post.body[:100] }}</td>
                    <td class="align-middle">
                        <a href="{{ url_for('edit_entry', entry_id=post.id) }}" class="btn btn-warning btn-sm">Edit</a>

                        <form method="POST" action="{{ url_for('delete_entry', entry_id=post.id) }}"
                            style="display:inline;" class="ml-2">
                            {{ delete_form.csrf_token }}
                            <button type="submit" class="btn btn-danger btn-sm"
                                onclick="return confirm('Are you sure you want to delete this post?');">
                                Delete
                            </button>
                        </form>



                    </td>
                </tr>
                {% endfor %}
            </tbody>

        </table>
    </div>

</div>

{% endblock %}